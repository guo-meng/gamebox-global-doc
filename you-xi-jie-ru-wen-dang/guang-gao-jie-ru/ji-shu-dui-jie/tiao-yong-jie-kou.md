# 调用接口

### 1、初始化

调用该函数初始化广告SDK，该函数需要在[GameSDK.init\(\)](../../ji-shu-dui-jie/ke-hu-duan-dui-jie/tiao-yong-jie-kou.md#chu-shi-hua)之后调用。

函数：

```text
AdSDK.init();
```

#### 注意：为避免广告填充率不足时，游戏出现因无法请求到广告而卡界面的问题，请开发者务必监听请求广告失败的回调，并进行处理。

### 2、创建横幅广告

调用该函数创建横幅广告，单个banner横幅创建

函数：

`var banner=AdSDK.createBannerAd(adId,bannerAdId,position)`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |


| adId | 广告序号ID | String | 非空 | 标识广告 |
| :--- | :--- | :--- | :--- | :--- |


| bannerId | 广告位ID | String | 非空 | 广告位ID，需申请 |
| :--- | :--- | :--- | :--- | :--- |


<table>
  <thead>
    <tr>
      <th style="text-align:left">position</th>
      <th style="text-align:left">&#x5E7F;&#x544A;&#x4F4D;&#x7F6E;</th>
      <th style="text-align:left">Int</th>
      <th style="text-align:left">&#x975E;&#x7A7A;</th>
      <th style="text-align:left">
        <p>1&#x3001;&#x9876;&#x90E8;&#xFF1B;2&#x3001;&#x5E95;&#x90E8;&#xFF1B;3&#x3001;&#x4E2D;</p>
        <p>&#x95F4;</p>
      </th>
    </tr>
  </thead>
  <tbody></tbody>
</table>### 3、展示横幅广告

横幅广告组件默认是隐藏的，调用广告实例的show函数展示横幅广告，返回值为Promise,banner广告显示操作的结果

_**建议在监听到横幅广告加载成功的回调函数中调用该函数。**_

函数：

`banner.show().then(function(){console.log('banner 广告显示成功')}, function(err) { console.log('banner 广告显示失败') })`

方法说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| function\(\) | 展示广告成功回调 | function | 否 | 游戏自定义该方法 |
| function\(err\) | 展示广告失败回调 | function | 否 | 游戏自定义该方法 |

### 4、隐藏横幅广告

调用广告实例的hide函数隐藏横幅广告

函数：

`banner.hide ()`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| 无 |  |  |  |  |

### 5、销毁横幅广告

调用广告实例的destroy函数销毁横幅广告

函数：

`banner.destroy ()`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| 无 |  |  |  |  |

### 6、监听横幅广告加载成功事件

调用该函数注册回调函数，当加载广告成功时函数会执行

函数：

`banner.onLoad (func(param));`

方法说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 横幅广告加载成功回调函数 | function | 非空 | 游戏定义回调函数 |

参数说明

| 参数 | 含义 | 类型 | 是否为空 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| param | 广告加载成功 | Json对象 | 非空 | Json对象，见下文 |

```text
Param Json对象:
{
adId,  // string 加载banner成功的广告Id
}
```

### 7、监听横幅广告加载错误事件

调用该函数注册回调函数，当加载广告失败时函数会执行

函数：

`banner.onError (func(param));`

方法说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 横幅广告加载失败回调函数 | function | 非空 | 游戏定义回调函数 |

参数说明

| 参数 | 含义 | 类型 | 是否为空 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| param | 广告加载失败 | Json对象 | 非空 | Json对象，见下文 |

```text
Param Json对象:
{
    adId,  // string 加载失败的广告Id
    errorCode//错误码
}
errorCode列表
1001请求接口失败（后台未配置对应广告位id)
1002内部出现问题(例：收到广告服务器的无效响应)
1003广告请求无效(例：广告单元ID不正确)
1004网络连接问题，广告请求失败
1005广告请求成功，但由于缺少广告资源，未返回广告
1006激励广告已展示，需重新创建并展示
1007广告尚未成功加载
1008应用未在前台运行时，广告无法展示
```

### 8、取消监听横幅广告加载成功事件

调用该函数注册回调函数，取消监听广告加载成功事件

函数：

`banner.offLoad (func);`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 横幅广告加载事件的回调函数 | function | 非空 | 游戏定义回调函数 |

### 9、取消监听横幅广告加载错误事件

调用该函数注册回调函数，取消监听广告加载错误事件

函数：

`banner.offError (func);`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 横幅广告错误事件的回调函数 | function | 非空 | 游戏定义回调函数 |

### 10、创建插屏广告

调用该函数创建插屏广告

函数：

`var interstitialAd = AdSDK.createInterstitialAd(adId，interstitialAdId, style)`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| adId | 广告序号ID | String | 非空 | 标识广告 |
| interstitialAdId | 广告位ID | String | 非空 | 插屏广告位ID，需申请 |
| style | 展示样式 | Int | 非空 | 1、全屏；2、半屏 |

### 11、展示插屏广告

调用广告实例的show函数展示插屏广告，返回值Promise，返回广告显示操作的结果

_**建议在监听到插屏广告加载成功的回调函数中调用该函数。**_

函数：

`interstitialAd.show().then(function(){console.log('interstitialAd 广告显示成功')}, function(err) { console.log('interstitialAd 广告显示失败') })`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| function\(\) | 展示广告成功回调 | function | 否 | 游戏自定义该方法 |
| function\(err\) | 展示广告失败回调 | function | 否 | 游戏自定义该方法 |

### 12、隐藏插屏广告

调用广告实例的hide函数隐藏插屏广告

函数：

`interstitialAd.hide ()；`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| 无 |  |  |  |  |

### 13、销毁插屏广告

调用广告实例的destroy函数销毁插屏广告

函数：

`interstitialAd.destroy ()；`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| 无 |  |  |  |  |

### 14、监听插屏广告加载成功事件

调用该函数注册回调函数，当加载广告成功时函数会执行

函数：

`interstitialAd.onLoad (func(param));`

方法说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 插屏广告加载成功回调函数 | function | 非空 | 游戏定义回调函数 |

参数说明

| 参数 | 含义 | 类型 | 是否为空 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| param | 广告加载成功 | Json对象 | 非空 | Json对象，见下文 |

```text
Param Json对象:
{
adId,  // string 加载插屏成功的广告Id
}
```

### 15、监听插屏广告加载错误事件

调用该函数注册回调函数，当加载广告错误时函数会执行

函数：

`interstitialAd.onError (func(param));`

方法说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 插屏广告加载失败回调函数 | function | 非空 | 游戏定义回调函数 |

参数说明

| 参数 | 含义 | 类型 | 是否为空 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| param | 广告加载失败 | Json对象 | 非空 | Json对象，见下文 |

```text
Param Json对象:
{
    adId,  // string 加载失败的广告Id
    errorCode//错误码
}
errorCode列表
1001请求接口失败（后台未配置对应广告位id)
1002内部出现问题(例：收到广告服务器的无效响应)
1003广告请求无效(例：广告单元ID不正确)
1004网络连接问题，广告请求失败
1005广告请求成功，但由于缺少广告资源，未返回广告
1006激励广告已展示，需重新创建并展示
1007广告尚未成功加载
1008应用未在前台运行时，广告无法展示
```

### 16、取消监听插屏广告加载成功事件

调用该函数注册回调函数，取消监听广告加载成功事件

函数：

`interstitialAd.offLoad (func);`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 插屏广告加载成功事件的函数回调 | function | 非空 | 游戏定义回调函数 |

### 17、取消监听插屏广告加载错误事件

调用该函数注册回调函数，取消监听广告加载错误事件

函数：

`interstitialAd.offError (func);`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 插屏广告加载错误事件的函数回调 | function | 非空 | 游戏定义回调函数 |

### 18、创建视频广告

调用该函数创建视频广告

函数：

`var videoAd=AdSDK.createRewardedVideoAd (adId，videoAdId, screenOrientation)`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| adId | 广告序号ID | String | 非空 | 标识广告 |
| videoAdId | 广告位ID | String | 非空 | 视频广告位ID，需申请 |
| screenOrientation | 展示样式 | Int | 非空 | 1、横屏；2、竖屏 |

### 19、展示视频广告

调用该函数展示视频广告，返回值Promise，视频广告显示操作的结果。

_**建议在监听到视频广告加载成功的回调函数中调用该函数。**_

_**展示成功后建议销毁广告对象，从新创建新的广告对象。**_

函数：

`videoAd.show().then(function(){console.log('videoAd 广告显示成功')}, function(err) { console.log('videoAd 广告显示失败') })`

方法说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| function\(\) | 展示广告成功回调 | function | 否 | 游戏自定义该方法 |
| function\(err\) | 展示广告失败回调 | function | 否 | 游戏自定义该方法 |

### 20、隐藏视频广告

调用该函数隐藏视频广告

函数：

`videoAd.hide()；`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| 无 |  |  |  |  |

### 21、销毁视频广告

调用该函数销毁视频广告

函数：

```text
videoAd.destroy ()；
```

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| 无 |  |  |  |  |

### 22、监听视频广告加载成功事件

调用该函数注册回调函数，当加载广告成功函数会执行

函数：

`videoAd.onLoad (func(param));`

方法说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 视频广告加载成功回调函数 | function | 非空 | 游戏定义回调函数 |

参数说明

| 参数 | 含义 | 类型 | 是否为空 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| param | 广告加载成功 | Json对象 | 非空 | Json对象，见下文 |

```text
Param Json对象:
{
adId,  // string 加载banner成功的广告Id
}
```

### 23、监听视频广告加载错误事件

调用该函数注册回调函数，当加载广告失败函数会执行

函数：

`videoAd.onError (func(param));`

方法说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 视频广告加载失败回调函数 | function | 非空 | 游戏定义回调函数 |

参数说明

| 参数 | 含义 | 类型 | 是否为空 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| param | 广告加载失败 | Json对象 | 非空 | Json对象，见下文 |

```text
Param Json对象:
{
    adId,  // string 加载失败的广告Id
    errorCode//错误码
}
errorCode列表
1001请求接口失败（后台未配置对应广告位id)
1002内部出现问题(例：收到广告服务器的无效响应)
1003广告请求无效(例：广告单元ID不正确)
1004网络连接问题，广告请求失败
1005广告请求成功，但由于缺少广告资源，未返回广告
1006激励广告已展示，需重新创建并展示
1007广告尚未成功加载
1008应用未在前台运行时，广告无法展示
```

### 24、监听视频广告关闭按钮点击事件

关闭视频广告时该函数执行

函数：

`videoAd.onClose (func)`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 视频广告关闭时回调该函数 | function | 非空 | 游戏定义回调函数 |

### 25、取消监听视频广告加载成功事件

调用该函数注册回调函数，取消监听视频广告加载成功事件

函数：

`videoAd.offLoad (func);`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 视频广告加载事件的函数回调 | function | 非空 | 游戏定义回调函数 |

### 26、取消监听视频广告加载错误事件

调用该函数注册回调函数，取消监听视频广告加载错误事件

函数：

`videoAd.offError(func);`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 视频错误事件的回调函数 | function | 非空 | 游戏定义回调函数 |

### 27、取消监听视频广告点击关闭按钮事件

调用该函数注册回调函数，取消监听视频广告点击关闭按钮事件

函数：

`videoAd.offClose (func);`

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| func | 用户点击 关闭广告 按钮的事件的回调函数 | function | 非空 | 游戏定义回调函数 |

